(window.webpackJsonp=window.webpackJsonp||[]).push([[2,123,124],{"2g2N":function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i("mrSG"),s=i("8Y7J"),o=i("sZkV");let a=(()=>{class e{constructor(e){this.toastController=e}presentToast(e){return r.a(this,void 0,void 0,(function*(){(yield this.toastController.create({message:e,duration:2e3})).present()}))}}return e.ngInjectableDef=s.Kb({factory:function(){return new e(s.Lb(o.Ib))},token:e,providedIn:"root"}),e})()},D3Uj:function(e,t,i){"use strict";i.d(t,"a",(function(){return l})),i.d(t,"b",(function(){return c})),i.d(t,"c",(function(){return h})),i.d(t,"d",(function(){return o})),i.d(t,"e",(function(){return u}));var r=i("mrSG"),s=i("8Y7J");let o=(()=>{let e=class{constructor(e,t){this.googleChartsSettings=t,this.googleScriptLoadingNotifier=new s.m,this.googleScriptIsLoading=!1,this.localeId=e,this.loadGoogleChartsScriptPromise=new Promise((e,t)=>{if("undefined"!=typeof google&&google.charts)e();else if(this.googleScriptIsLoading)this.googleScriptLoadingNotifier.subscribe(i=>{i?e():t()});else{this.googleScriptIsLoading=!0;const i=document.createElement("script");i.type="text/javascript",i.src="https://www.gstatic.com/charts/loader.js",i.async=!0,i.defer=!0,i.onload=()=>{this.googleScriptIsLoading=!1,this.googleScriptLoadingNotifier.emit(!0),e()},i.onerror=()=>{this.googleScriptIsLoading=!1,this.googleScriptLoadingNotifier.emit(!1),t()},document.getElementsByTagName("head")[0].appendChild(i)}})}load(e){return Object(r.a)(this,void 0,void 0,(function*(){yield this.loadGoogleChartsScriptPromise,yield new Promise(t=>{e||(e=Object.create(this.googleChartsSettings)),e||(e={}),e.language||(e.language=this.localeId),e.googleChartsVersion||(e.googleChartsVersion="47");const i=e;i.callback=t,google.charts.load(e.googleChartsVersion,i)})}))}};return e.\u0275prov=Object(s.Kb)({factory:function(){return new e(Object(s.Lb)(s.s),Object(s.Lb)("googleChartsSettings",8))},token:e,providedIn:"root"}),e})();class a{constructor(e){this.opt=e,this.dataTableChanged=new s.m,e&&this._setDataTable(e.dataTable,e.firstRowIsData)}send(){void 0!==this.query&&this.query.send(e=>{this.setDataTable(e.getDataTable()),this.opt.queryCallback&&this.opt.queryCallback(e)})}init(e){e&&(this.opt=e),void 0!==this.tid&&(window.clearInterval(this.tid),this.tid=void 0),this.opt.dataSourceUrl?(this.query=new google.visualization.Query(this.opt.dataSourceUrl),this.opt.query&&this.query.setQuery(this.opt.query),void 0!==this.opt.timeout&&this.query.setTimeout(this.opt.timeout),this.opt.refreshInterval&&(this.tid=window.setInterval(()=>{this.send()},1e3*this.opt.refreshInterval)),this.send()):this.setDataTable(this.opt.dataTable)}getDataTable(){return this.dataTable}setDataTable(e,t){void 0===t&&(t=this.opt.firstRowIsData),this._setDataTable(e,t),this.dataTableChanged.emit(this.dataTable)}_setDataTable(e,t){Array.isArray(e)&&(e=google.visualization.arrayToDataTable(e,t)),this.dataTable=e,this.reformat()}reformat(){const e=this.dataTable;if(void 0!==e&&void 0!==this.opt.formatters)for(const t of this.opt.formatters){let i;if("PatternFormat"===t.type){const r=t.options;i=new google.visualization.PatternFormat(r.pattern),i.format(e,t.columns,r.dstColumnIndex);continue}const r=google.visualization[t.type],s=t.options;if(i=new r(s),"ColorFormat"===t.type&&s){const e=s;for(const t of e.ranges)void 0!==t.fromBgColor&&void 0!==t.toBgColor?i.addGradientRange(t.from,t.to,t.color,t.fromBgColor,t.toBgColor):i.addRange(t.from,t.to,t.color,t.bgcolor)}for(const o of t.columns)i.format(e,o)}}}let n=(()=>{class e{constructor(e){this.el=e}setPosition(t,i){this.el.nativeElement.style.left=t+e.PIXELS,this.el.nativeElement.style.top=i+e.PIXELS}getDOMElement(){return this.el}}return e.PIXELS="px",e})(),l=class{constructor(e,t){this.el=e,this.loaderService=t,this.mouseOverListener=e=>{const t=this.parseMouseEvent(e);return t.tooltip=this.getHTMLTooltip(),t},this.mouseOutListener=e=>this.parseMouseEvent(e),this.selectListener=()=>{const e={message:"select",row:null,column:null,selectedRowValues:[],selectedRowFormattedValues:[],columnLabel:""},t=this.wrapper.visualization.getSelection(),i=t[t.length-1];if(!i)return e.message="deselect",e;const r=i;if(null!=i.row){e.row=r.row;const t=[],i=[],s=this.wrapper.getDataTable(),o=s.getNumberOfColumns();for(let e=0;e<o;e++)t.push(s.getValue(r.row,e)),i.push(s.getFormattedValue(r.row,e));e.selectedRowValues=t,e.selectedRowFormattedValues=i}return null!=r.column&&(e.column=r.column,e.columnLabel=this.getColumnLabelAtPosition(r)),i.name&&(e.columnLabel=i.name),e},this.chartSelect=new s.m,this.chartSelectOneTime=new s.m,this.chartReady=new s.m,this.chartReadyOneTime=new s.m,this.chartError=new s.m,this.chartErrorOneTime=new s.m,this.mouseOver=new s.m,this.mouseOverOneTime=new s.m,this.mouseOut=new s.m,this.mouseOutOneTime=new s.m,this.regionClick=new s.m,this.regionClickOneTime=new s.m}ngOnInit(){this.HTMLel=this.el.nativeElement.querySelector("div"),Object.isExtensible(this.data)&&(this.data.component=this),this.options=this.data.options,this.init().then(()=>{this.draw()})}init(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.loaderService.load(),this.recreateWrapper()}))}recreateWrapper(){if(void 0===this.wrapper||this.wrapper.getChartType()!==this.data.chartType){this.dataTable=new a(this.data),this.dataTable.dataTableChanged.subscribe(e=>{this._draw()});let t=this.data;if(this.data.firstRowIsData&&(t=Object.assign(t,this.data),t.dataTable=this.dataTable.getDataTable()),this.wrapper=new google.visualization.ChartWrapper(t),this.registerChartWrapperEvents(),void 0===t.dataTable&&void 0===t.dataSourceUrl)try{this.wrapper.draw(this.HTMLel)}catch(e){}}}_draw(){return Object(r.a)(this,void 0,void 0,(function*(){const e=this.dataTable.getDataTable();void 0!==e&&(this.convertOptions(),this.recreateWrapper(),this.wrapper.setOptions(this.options),this.wrapper.setDataTable(e),this.wrapper.draw(this.HTMLel))}))}getDataTable(){return this.dataTable}draw(e){void 0===e&&(e=this.data),this.options=e.options,this.dataTable.init(e)}getSelectorBySeriesType(e){return{bars:"bar#%s#%r",haxis:"hAxis#0#label",line:"point#%s#%r",legend:"legendentry#%s",area:"point#%s#%r"}[e]}getSeriesByColumn(e){let t=0;const i=this.wrapper.getDataTable();for(let r=e-1;r>=0;r--){const e=i.getColumnRole(r),s=i.getColumnType(r);"data"!==e&&"number"!==s||t++}return t}getBoundingBoxForItem(e){let t={top:0,left:0,width:0,height:0};if(this.cli){const i=e.column,r=this.getSeriesByColumn(i),s=e.row;let o=this.options.seriesType;if(this.options.series&&this.options.series[r]&&this.options.series[r].type&&(o=this.options.series[r].type),o){let e=this.getSelectorBySeriesType(o);if(e){e=e.replace("%s",r+"").replace("%c",i+"").replace("%r",s+"");const o=this.cli.getBoundingBox(e);o&&(t=o)}}}return t}getValueAtPosition(e){return null==e.row?null:this.wrapper.getDataTable().getValue(e.row,e.column)}getColumnTypeAtPosition(e){return this.wrapper.getDataTable().getColumnType(e.column)||""}getColumnLabelAtPosition(e){return this.wrapper.getDataTable().getColumnLabel(e.column)||""}getHTMLTooltip(){const e=new s.k(this.el.nativeElement.querySelector(".google-visualization-tooltip"));return new n(e)}parseMouseEvent(e){const t=this.wrapper.getChartType();let i=e.column;if(null==i)switch(t){case"Timeline":i=3===this.wrapper.getDataTable().getNumberOfColumns()?0:1;break;default:i=0}const r={row:e.row,column:i};return{position:e,boundingBox:this.getBoundingBoxForItem(r),value:this.getValueAtPosition(r),columnType:this.getColumnTypeAtPosition(r),columnLabel:this.getColumnLabelAtPosition(r)}}unregisterEvents(){google.visualization.events.removeAllListeners(this.wrapper.getChart()),google.visualization.events.removeAllListeners(this.wrapper)}registerChartEvents(){const e=this.wrapper.getChart();this.cli=e.getChartLayoutInterface?e.getChartLayoutInterface():null,this.mouseOver.observers.length>0&&google.visualization.events.addListener(e,"onmouseover",e=>{const t=this.parseMouseEvent(e);t.tooltip=this.getHTMLTooltip(),this.mouseOver.emit(t)}),this.mouseOverOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseover",e=>{const t=this.parseMouseEvent(e);t.tooltip=this.getHTMLTooltip(),this.mouseOverOneTime.emit(t)}),this.mouseOut.observers.length>0&&google.visualization.events.addListener(e,"onmouseout",e=>{const t=this.parseMouseEvent(e);this.mouseOut.emit(t)}),this.mouseOutOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseout",e=>{const t=this.parseMouseEvent(e);this.mouseOutOneTime.emit(t)}),"GeoChart"===this.data.chartType&&(this.regionClick.observers.length>0&&google.visualization.events.addListener(e,"regionClick",e=>{this.regionClick.emit(e)}),this.regionClickOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"regionClick",e=>{this.regionClick.emit(e)}))}registerChartWrapperEvents(){google.visualization.events.addListener(this.wrapper,"ready",()=>{this.chartReady.emit({message:"Chart ready"})}),google.visualization.events.addOneTimeListener(this.wrapper,"ready",()=>{this.chartReadyOneTime.emit({message:"Chart ready (one time)"}),this.registerChartEvents()}),google.visualization.events.addListener(this.wrapper,"error",e=>{this.chartError.emit(e)}),google.visualization.events.addOneTimeListener(this.wrapper,"error",e=>{this.chartErrorOneTime.emit(e)}),this.addListener(this.wrapper,"select",this.selectListener,this.chartSelect),this.addOneTimeListener(this.wrapper,"select",this.selectListener,this.chartSelectOneTime)}addListener(e,t,i,r){google.visualization.events.addListener(e,t,()=>{r.emit(i())})}addOneTimeListener(e,t,i,r){google.visualization.events.addOneTimeListener(e,t,()=>{r.emit(i())})}convertOptions(){try{this.options=google.charts[this.data.chartType].convertOptions(this.options)}catch(e){return}}},h=class{constructor(e,t){this.el=e,this.loaderService=t,this.el=e,this.loaderService=t}ngOnInit(){this.data.component=this,this.init().then(()=>{this.dataTable||(this.dataTable=new a(this.data),this.dataTable.dataTableChanged.subscribe(e=>{this._draw()})),this.draw()})}init(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.loaderService.load({packages:["controls"]}),this.dashboard=new google.visualization.Dashboard(this.el.nativeElement.querySelector("div"));for(const e of this.data.bind){let t=e[0],i=e[1];t instanceof Array||(t=[t]),i instanceof Array||(i=[i]);for(const e of t)yield e.component.ensureInit();for(const e of i){yield e.component.init();const t=e.component.data;if(void 0!==t.dataTable||void 0!==t.dataSourceUrl)throw Error("dataTable and dataSourceUrl cannot be specified when chart is drawn in a Dashboard")}this.dashboard.bind(t.map(e=>e.component.wrapper),i.map(e=>e.component.wrapper))}}))}draw(e){this.dataTable.init(e)}_draw(){this.dashboard.draw(this.dataTable.getDataTable())}},c=class{constructor(e,t){this.el=e,this.loaderService=t,this.el=e,this.loaderService=t}ngOnInit(){this.data.component=this}ensureInit(){return Object(r.a)(this,void 0,void 0,(function*(){if(this.wrapper)return;let e;yield this.loaderService.load({packages:["controls"]}),e=Object.create(this.data),e.containerId=this.el.nativeElement.querySelector("div"),this.wrapper=new google.visualization.ControlWrapper(e)}))}},u=class{}},hKcI:function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var r=i("N+K7"),s=i("8Y7J"),o=i("iInd");let a=(()=>{class e{constructor(e,t){this.httpService=e,this.router=t}retrieveWeatherStns(e){return this.httpService.post("xcisweatherstnrest",e)}saveFlowMeterSettings(e){return this.httpService.post("xcisflowmeterrest",e)}retrieveFlowMeters(e){return this.httpService.post("xcisflowmeterrest",e)}retrieveFlowMeterDetail(e){return this.httpService.post("xcisflowmeterdetailrest",e)}retrieveFlowMeterDailyHistory(e){return this.httpService.post("xcisflowmeterdailyhistoryrest",e)}saveRainGaugeSettings(e){return this.httpService.post("xcisraingaugerest",e)}retrieveRainGauges(e){return this.httpService.post("xcisraingaugerest",e)}retrieveRainGaugeDetail(e){return this.httpService.post("xcisraingaugedetailrest",e)}retrieveRainGaugeDailyHistory(e){return this.httpService.post("xcisraingaugedailyhistoryrest",e)}retrieveFenceDetail(e){return this.httpService.post("xcisfencedetailrest",e)}retrieveFenceDailyHistory(e){return this.httpService.post("xcisfencedailyhistoryrest",e)}saveFenceSettings(e){return this.httpService.post("xcisfencerest",e)}retrieveFences(e){return this.httpService.post("xcisfencerest",e)}retrieveTroughDetail(e){return this.httpService.post("xcistroughdetailrest",e)}retrieveTroughDailyHistory(e){return this.httpService.post("xcistroughdailyhistoryrest",e)}retrieveTroughs(e){return this.httpService.post("xcistroughrest",e)}saveTroughSettings(e){return this.httpService.post("xcistroughrest",e)}retrieveTankDetail(e){return this.httpService.post("xcistankdetailrest",e)}retrieveTankDailyHistory(e){return this.httpService.post("xcistankdailyhistoryrest",e)}retrieveTanks(e){return this.httpService.post("xcistankrest",e)}saveTankSettings(e){return this.httpService.post("xcistankrest",e)}retrieveBores(e){return this.httpService.post("xcisborerest",e)}startBore(e){return this.httpService.post("xcisboreonrest",e)}stopBore(e){return this.httpService.post("xcisboreoffrest",e)}saveBoreSettings(e){return this.httpService.post("xcisborerest",e)}retrieveDevice(e){return this.httpService.post("xcisdevicerest",e)}}return e.ngInjectableDef=s.Kb({factory:function(){return new e(s.Lb(r.a),s.Lb(o.m))},token:e,providedIn:"root"}),e})()}}]);