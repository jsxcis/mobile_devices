(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"748j":function(e,l,n){"use strict";n.r(l);var t=n("8Y7J");class i{}var o=n("pMnS"),u=n("MKJQ"),r=n("sZkV"),a=n("SVse"),c=n("lGQG"),s=n("hKcI"),h=n("2g2N");class v{constructor(e,l,n,t,i,o){this.router=e,this.authService=l,this.xcisService=n,this.toastService=t,this.http=i,this.navCtrl=o,this.postData={userID:"jsharp",req:"all",deviceID:"all"}}ngOnInit(){this.authService.userData$.subscribe(e=>{this.displayUserData=e}),this.loadTanks(),this.loadBores(),this.loadTroughs(),this.loadFences(),this.loadWeatherStns(),this.loadRainGauges(),this.loadFlowMeters()}ionViewWillEnter(){this.loadTanks(),this.loadBores(),this.loadTroughs(),this.loadFences(),this.loadWeatherStns(),this.loadRainGauges(),this.loadFlowMeters()}showTankHistory(e,l){this.deviceID=e,this.router.navigate(["home/tank-history"],{queryParams:{deviceID:l.deviceID,deviceName:l.deviceName,totalVolume:l.totalVolume,deviceStatusDate:l.deviceStatusDate,deviceMode:l.deviceMode,availVolume:l.availVolume,reserveDepth:l.reserveDepth,reserveVolume:l.reserveVolume,deviceLevel:l.deviceLevel,availDepth:l.availDepth,totalDepth:l.totalDepth,deviceType:l.deviceType,deviceIP:l.deviceIP,loraID:l.loraID,deviceLAT:l.deviceLAT,deviceLONG:l.deviceLONG}})}showBoreHistory(e,l){this.deviceID=e,this.router.navigate(["home/bore-history"],{queryParams:{deviceID:l.deviceID,deviceName:l.deviceName,boreCurrent:l.boreCurrent,boreFlowRate:l.boreFlowRate,deviceStatusDate:l.deviceStatusDate,deviceMode:l.deviceMode,boreStatus:l.boreStatus,boreState:l.boreState,boreVolume:l.boreVolume,deviceType:l.deviceType,deviceIP:l.deviceIP,loraID:l.loraID,deviceLAT:l.deviceLAT,deviceLONG:l.deviceLONG}})}showTroughHistory(e,l){this.deviceID=e,this.router.navigate(["home/trough-history"],{queryParams:{deviceID:l.deviceID,deviceName:l.deviceName,troughValue:l.troughValue,deviceStatusDate:l.deviceStatusDate,deviceMode:l.deviceMode,troughOverFlowHeight:l.troughOverFlowHeight,deviceLevel:l.deviceLevel,availDepth:l.availDepth,totalDepth:l.totalDepth,troughEmptyHeight:l.troughEmptyHeight,troughFullHeight:l.troughFullHeight,troughStatus:l.troughStatus,deviceType:l.deviceType,deviceIP:l.deviceIP,loraID:l.loraID,deviceLAT:l.deviceLAT,deviceLONG:l.deviceLONG}})}showFenceHistory(e,l){this.deviceID=e,this.router.navigate(["home/fence-history"],{queryParams:{deviceID:l.deviceID,deviceName:l.deviceName,deviceStatusDate:l.deviceStatusDate,deviceMode:l.deviceMode,fenceValue:l.fenceValue,fenceMultiplier:l.fenceMultiplier,fenceLowValue:l.fenceLowValue,fenceOffValue:l.fenceOffValue,fenceVoltage:l.fenceVoltage,fenceOnValue:l.fenceOnValue,fenceStatus:l.fenceStatus,deviceType:l.deviceType,deviceIP:l.deviceIP,loraID:l.loraID,deviceLAT:l.deviceLAT,deviceLONG:l.deviceLONG}})}showWeatherStnHistory(e,l){this.deviceID=e,this.router.navigate(["home/weather-history"],{queryParams:{deviceID:l.deviceID,deviceName:l.deviceName,deviceStatusDate:l.deviceStatusDate,deviceMode:l.deviceMode,rainMMPerHour:l.rainMMPerHour,rainTotalMM:l.rainTotalMM,temperature:l.temperature,humidity:l.humidity,pressure:l.pressure,windSpeed:l.windSpeed,direction:l.direction,deviceType:l.deviceType,deviceIP:l.deviceIP,loraID:l.loraID,deviceLAT:l.deviceLAT,deviceLONG:l.deviceLONG}})}showRainGaugeHistory(e,l){this.deviceID=e,this.router.navigate(["home/rainGauge-history"],{queryParams:{deviceID:l.deviceID,deviceName:l.deviceName,deviceStatusDate:l.deviceStatusDate,deviceMode:l.deviceMode,rainMMPerScan:l.rainMMPerScan,rainMMPerPulse:l.rainMMPerPulse,rainPulsesPerScan:l.rainPulsesPerScan,rainingFlag:l.rainingFlag,rainTimeStamp:l.rainTimeStamp,rainAccumFreq:l.rainAccumFreq,rainDate:l.rainDate,deviceType:l.deviceType,deviceIP:l.deviceIP,loraID:l.loraID,deviceLAT:l.deviceLAT,deviceLONG:l.deviceLONG}})}showFlowMeterHistory(e,l){this.deviceID=e,this.router.navigate(["home/flowMeter-history"],{queryParams:{deviceID:l.deviceID,deviceName:l.deviceName,deviceStatusDate:l.deviceStatusDate,deviceMode:l.deviceMode,flowLPerScan:l.flowLPerScan,flowLPerPulse:l.flowLPerPulse,flowPulsesPerScan:l.flowPulsesPerScan,flowingFlag:l.flowingFlag,flowTimeStamp:l.flowTimeStamp,flowAccumFreq:l.flowAccumFreq,flowDate:l.flowDate,flowRate:l.flowRate,deviceType:l.deviceType,deviceIP:l.deviceIP,loraID:l.loraID,deviceLAT:l.deviceLAT,deviceLONG:l.deviceLONG}})}loadRainGauges(){this.xcisService.retrieveRainGauges(this.postData).subscribe(e=>{this.rainGauges=e.rainGaugeData},e=>{this.toastService.presentToast("Network connection error retrieving rain gauges")})}loadFlowMeters(){this.xcisService.retrieveFlowMeters(this.postData).subscribe(e=>{this.flowMeters=e.flowMeterData},e=>{this.toastService.presentToast("Network connection error retrieving flow meters")})}loadWeatherStns(){this.xcisService.retrieveWeatherStns(this.postData).subscribe(e=>{this.weatherStns=e.weatherStnData},e=>{this.toastService.presentToast("Network connection error retrieving weather stations")})}loadFences(){this.xcisService.retrieveFences(this.postData).subscribe(e=>{this.fences=e.fenceData},e=>{this.toastService.presentToast("Network connection error retrieving fences")})}loadTroughs(){this.postData.req="all",this.xcisService.retrieveTroughs(this.postData).subscribe(e=>{this.troughs=e.troughData},e=>{this.toastService.presentToast("Network connection error retrieving troughs")})}loadBores(){this.xcisService.retrieveBores(this.postData).subscribe(e=>{this.bores=e.boreData},e=>{this.toastService.presentToast("Network connection error retrieving bores")})}loadTanks(){this.xcisService.retrieveTanks(this.postData).subscribe(e=>{for(var l in this.tanks=e.tankData,this.tanks);},e=>{this.toastService.presentToast("Network connection error retrieving tanks")})}}var d=n("iInd"),b=n("IheW"),p=t.nb({encapsulation:0,styles:[[""]],data:{}});function g(e){return t.Gb(0,[(e()(),t.pb(0,0,null,null,8,"ion-item",[],null,null,null,u.M,u.k)),t.ob(1,49152,null,0,r.E,[t.h,t.k,t.x],null,null),(e()(),t.pb(2,0,null,0,0,"img",[["alt","XCIS Logo"],["height","40"],["src","assets/images/watertankicon.jpg"],["width","40"]],null,null,null,null,null)),(e()(),t.pb(3,0,null,0,2,"ion-label",[],null,null,null,u.N,u.o)),t.ob(4,49152,null,0,r.K,[t.h,t.k,t.x],null,null),(e()(),t.Fb(5,0,["",""])),(e()(),t.pb(6,0,null,0,2,"ion-button",[["fill","outline"]],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.showTankHistory(e.context.$implicit.deviceID,e.context.$implicit)&&t),t}),u.A,u.b)),t.ob(7,49152,null,0,r.h,[t.h,t.k,t.x],{fill:[0,"fill"]},null),(e()(),t.Fb(-1,0,["Level"]))],(function(e,l){e(l,7,0,"outline")}),(function(e,l){e(l,5,0,l.context.$implicit.deviceName)}))}function m(e){return t.Gb(0,[(e()(),t.pb(0,0,null,null,8,"ion-item",[],null,null,null,u.M,u.k)),t.ob(1,49152,null,0,r.E,[t.h,t.k,t.x],null,null),(e()(),t.pb(2,0,null,0,0,"img",[["alt","XCIS Logo"],["height","40"],["src","assets/images/trough.jpg"],["width","40"]],null,null,null,null,null)),(e()(),t.pb(3,0,null,0,2,"ion-label",[],null,null,null,u.N,u.o)),t.ob(4,49152,null,0,r.K,[t.h,t.k,t.x],null,null),(e()(),t.Fb(5,0,["",""])),(e()(),t.pb(6,0,null,0,2,"ion-button",[["fill","outline"]],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.showTroughHistory(e.context.$implicit.deviceID,e.context.$implicit)&&t),t}),u.A,u.b)),t.ob(7,49152,null,0,r.h,[t.h,t.k,t.x],{fill:[0,"fill"]},null),(e()(),t.Fb(-1,0,["Level"]))],(function(e,l){e(l,7,0,"outline")}),(function(e,l){e(l,5,0,l.context.$implicit.deviceName)}))}function f(e){return t.Gb(0,[(e()(),t.pb(0,0,null,null,8,"ion-item",[],null,null,null,u.M,u.k)),t.ob(1,49152,null,0,r.E,[t.h,t.k,t.x],null,null),(e()(),t.pb(2,0,null,0,0,"img",[["alt","XCIS Logo"],["height","40"],["src","assets/images/electricfence.png"],["width","40"]],null,null,null,null,null)),(e()(),t.pb(3,0,null,0,2,"ion-label",[],null,null,null,u.N,u.o)),t.ob(4,49152,null,0,r.K,[t.h,t.k,t.x],null,null),(e()(),t.Fb(5,0,["",""])),(e()(),t.pb(6,0,null,0,2,"ion-button",[["fill","outline"]],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.showFenceHistory(e.context.$implicit.deviceID,e.context.$implicit)&&t),t}),u.A,u.b)),t.ob(7,49152,null,0,r.h,[t.h,t.k,t.x],{fill:[0,"fill"]},null),(e()(),t.Fb(-1,0,["Volts"]))],(function(e,l){e(l,7,0,"outline")}),(function(e,l){e(l,5,0,l.context.$implicit.deviceName)}))}function D(e){return t.Gb(0,[(e()(),t.pb(0,0,null,null,8,"ion-item",[],null,null,null,u.M,u.k)),t.ob(1,49152,null,0,r.E,[t.h,t.k,t.x],null,null),(e()(),t.pb(2,0,null,0,0,"img",[["alt","XCIS Logo"],["height","40"],["src","assets/images/weatherstn.png"],["width","40"]],null,null,null,null,null)),(e()(),t.pb(3,0,null,0,2,"ion-label",[],null,null,null,u.N,u.o)),t.ob(4,49152,null,0,r.K,[t.h,t.k,t.x],null,null),(e()(),t.Fb(5,0,[" ",""])),(e()(),t.pb(6,0,null,0,2,"ion-button",[["fill","outline"]],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.showRainGaugeHistory(e.context.$implicit.deviceID,e.context.$implicit)&&t),t}),u.A,u.b)),t.ob(7,49152,null,0,r.h,[t.h,t.k,t.x],{fill:[0,"fill"]},null),(e()(),t.Fb(-1,0,["Totals"]))],(function(e,l){e(l,7,0,"outline")}),(function(e,l){e(l,5,0,l.context.$implicit.deviceName)}))}function k(e){return t.Gb(0,[(e()(),t.pb(0,0,null,null,8,"ion-item",[],null,null,null,u.M,u.k)),t.ob(1,49152,null,0,r.E,[t.h,t.k,t.x],null,null),(e()(),t.pb(2,0,null,0,0,"img",[["alt","XCIS Logo"],["height","40"],["src","assets/images/weatherstn.png"],["width","40"]],null,null,null,null,null)),(e()(),t.pb(3,0,null,0,2,"ion-label",[],null,null,null,u.N,u.o)),t.ob(4,49152,null,0,r.K,[t.h,t.k,t.x],null,null),(e()(),t.Fb(5,0,[" ",""])),(e()(),t.pb(6,0,null,0,2,"ion-button",[["fill","outline"]],null,[[null,"click"]],(function(e,l,n){var t=!0;return"click"===l&&(t=!1!==e.component.showFlowMeterHistory(e.context.$implicit.deviceID,e.context.$implicit)&&t),t}),u.A,u.b)),t.ob(7,49152,null,0,r.h,[t.h,t.k,t.x],{fill:[0,"fill"]},null),(e()(),t.Fb(-1,0,["Totals"]))],(function(e,l){e(l,7,0,"outline")}),(function(e,l){e(l,5,0,l.context.$implicit.deviceName)}))}function w(e){return t.Gb(0,[(e()(),t.pb(0,0,null,null,6,"ion-header",[],null,null,null,u.G,u.h)),t.ob(1,49152,null,0,r.y,[t.h,t.k,t.x],null,null),(e()(),t.pb(2,0,null,0,4,"ion-toolbar",[["color","primary"]],null,null,null,u.X,u.y)),t.ob(3,49152,null,0,r.wb,[t.h,t.k,t.x],{color:[0,"color"]},null),(e()(),t.pb(4,0,null,0,2,"ion-title",[],null,null,null,u.W,u.x)),t.ob(5,49152,null,0,r.ub,[t.h,t.k,t.x],null,null),(e()(),t.Fb(-1,0,[" History "])),(e()(),t.pb(7,0,null,null,38,"ion-content",[],null,null,null,u.D,u.e)),t.ob(8,49152,null,0,r.r,[t.h,t.k,t.x],null,null),(e()(),t.pb(9,0,null,0,36,"ion-list",[],null,null,null,u.O,u.p)),t.ob(10,49152,null,0,r.L,[t.h,t.k,t.x],null,null),(e()(),t.pb(11,0,null,0,4,"ion-item",[["color","light"]],null,null,null,u.M,u.k)),t.ob(12,49152,null,0,r.E,[t.h,t.k,t.x],{color:[0,"color"]},null),(e()(),t.pb(13,0,null,0,2,"ion-label",[["class","ion-text-center"]],null,null,null,u.N,u.o)),t.ob(14,49152,null,0,r.K,[t.h,t.k,t.x],null,null),(e()(),t.Fb(-1,0,["Tanks"])),(e()(),t.eb(16777216,null,0,1,null,g)),t.ob(17,278528,null,0,a.h,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(e()(),t.pb(18,0,null,0,4,"ion-item",[["color","light"]],null,null,null,u.M,u.k)),t.ob(19,49152,null,0,r.E,[t.h,t.k,t.x],{color:[0,"color"]},null),(e()(),t.pb(20,0,null,0,2,"ion-label",[["class","ion-text-center"]],null,null,null,u.N,u.o)),t.ob(21,49152,null,0,r.K,[t.h,t.k,t.x],null,null),(e()(),t.Fb(-1,0,["Troughs"])),(e()(),t.eb(16777216,null,0,1,null,m)),t.ob(24,278528,null,0,a.h,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(e()(),t.pb(25,0,null,0,4,"ion-item",[["color","light"]],null,null,null,u.M,u.k)),t.ob(26,49152,null,0,r.E,[t.h,t.k,t.x],{color:[0,"color"]},null),(e()(),t.pb(27,0,null,0,2,"ion-label",[["class","ion-text-center"]],null,null,null,u.N,u.o)),t.ob(28,49152,null,0,r.K,[t.h,t.k,t.x],null,null),(e()(),t.Fb(-1,0,["Fences"])),(e()(),t.eb(16777216,null,0,1,null,f)),t.ob(31,278528,null,0,a.h,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(e()(),t.pb(32,0,null,0,4,"ion-item",[["color","light"]],null,null,null,u.M,u.k)),t.ob(33,49152,null,0,r.E,[t.h,t.k,t.x],{color:[0,"color"]},null),(e()(),t.pb(34,0,null,0,2,"ion-label",[["class","ion-text-center"]],null,null,null,u.N,u.o)),t.ob(35,49152,null,0,r.K,[t.h,t.k,t.x],null,null),(e()(),t.Fb(-1,0,["Rain Gauges"])),(e()(),t.eb(16777216,null,0,1,null,D)),t.ob(38,278528,null,0,a.h,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null),(e()(),t.pb(39,0,null,0,4,"ion-item",[["color","light"]],null,null,null,u.M,u.k)),t.ob(40,49152,null,0,r.E,[t.h,t.k,t.x],{color:[0,"color"]},null),(e()(),t.pb(41,0,null,0,2,"ion-label",[["class","ion-text-center"]],null,null,null,u.N,u.o)),t.ob(42,49152,null,0,r.K,[t.h,t.k,t.x],null,null),(e()(),t.Fb(-1,0,["Flow Meters"])),(e()(),t.eb(16777216,null,0,1,null,k)),t.ob(45,278528,null,0,a.h,[t.M,t.J,t.q],{ngForOf:[0,"ngForOf"]},null)],(function(e,l){var n=l.component;e(l,3,0,"primary"),e(l,12,0,"light"),e(l,17,0,n.tanks),e(l,19,0,"light"),e(l,24,0,n.troughs),e(l,26,0,"light"),e(l,31,0,n.fences),e(l,33,0,"light"),e(l,38,0,n.rainGauges),e(l,40,0,"light"),e(l,45,0,n.flowMeters)}),null)}var S=t.lb("app-history",v,(function(e){return t.Gb(0,[(e()(),t.pb(0,0,null,null,1,"app-history",[],null,null,null,w,p)),t.ob(1,114688,null,0,v,[d.m,c.a,s.a,h.a,b.c,r.Cb],null,null)],(function(e,l){e(l,1,0)}),null)}),{},{},[]),I=n("s7LF"),M=n("D3Uj");class x{}n.d(l,"HistoryPageModuleNgFactory",(function(){return y}));var y=t.mb(i,[],(function(e){return t.yb([t.zb(512,t.j,t.X,[[8,[o.a,S]],[3,t.j],t.v]),t.zb(4608,a.k,a.j,[t.s,[2,a.r]]),t.zb(4608,I.j,I.j,[]),t.zb(4608,r.a,r.a,[t.x,t.g]),t.zb(4608,r.Bb,r.Bb,[r.a,t.j,t.p]),t.zb(4608,r.Fb,r.Fb,[r.a,t.j,t.p]),t.zb(4608,M.d,M.d,[t.s,[2,"googleChartsSettings"]]),t.zb(1073742336,a.b,a.b,[]),t.zb(1073742336,I.i,I.i,[]),t.zb(1073742336,I.b,I.b,[]),t.zb(1073742336,r.yb,r.yb,[]),t.zb(1073742336,d.p,d.p,[[2,d.u],[2,d.m]]),t.zb(1073742336,x,x,[]),t.zb(1073742336,M.e,M.e,[]),t.zb(1073742336,i,i,[]),t.zb(1024,d.k,(function(){return[[{path:"",component:v}]]}),[])])}))}}]);